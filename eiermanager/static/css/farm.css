/* ===================================================================
   FarmManager – Global Styles (clean rebuild)
   =================================================================== */

/* 0) Reset & Base */
*,
*::before,
*::after { box-sizing: border-box; }

:root{
    /* Theme */
    --fm-bg-a:#f0fdf4;
    --fm-bg-b:#dcfce7;
    --fm-card:#ffffff;

    --fm-green:#22c55e;
    --fm-green-600:#16a34a;
    --fm-red:#ef4444;
    --fm-red-600:#dc2626;

    --fm-text:#1f2937;      /* slate-800 */
    --fm-text-muted:#6b7280;/* gray-500 */

    /* UI */
    --fm-radius:1.2rem;
    --fm-border:1px solid rgba(0,0,0,.06);
    --fm-shadow:0 6px 20px rgba(0,0,0,.10);
    --fm-shadow-soft:0 4px 14px rgba(0,0,0,.08);

    /* Sizing */
    --fm-container: 1240px;     /* breiter, damit nichts gequetscht wirkt */
    --fm-gap: 20px;
}

html,body{
    height:100%;
    margin:0;
    font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    color:var(--fm-text);
    background:linear-gradient(135deg,var(--fm-bg-a),var(--fm-bg-b));
}

/* 1) Page Shell (zentriert alles schön) */
.fm-shell{
    min-height:100vh;
    display:flex;
    align-items:center;
    justify-content:center;
    padding:24px;
}
.fm-center{
    width:100%;
    max-width:var(--fm-container);
    margin:0 auto;
}

/* 2) Cards / Container */
.fm-card,
.fm-menu{
    background:var(--fm-card);
    border-radius:var(--fm-radius);
    border: var(--fm-border);
    box-shadow:var(--fm-shadow-soft);
    padding: clamp(22px, 3.5vw, 32px);
    transition: box-shadow .2s ease, transform .08s ease;
}
.fm-card:hover,
.fm-menu:hover{
    box-shadow: var(--fm-shadow);
}

/* 3) Header (Logo – Titel – Zahnrad) */
.fm-header{
    display:grid;
    grid-template-columns:auto 1fr auto;
    align-items:center;
    gap:14px;
    margin-bottom:18px;
    padding-bottom:12px;
    border-bottom:1px solid rgba(0,0,0,.06);
}
.fm-logo{ width:80px; height:auto; }
.fm-hello{
    text-align:center;
    font-weight:700;
    font-size:1.25rem;
    margin:0;
}
.fm-settings{
    width:42px; height:42px;
    display:grid; place-items:center;
    border-radius:12px;
    background:#f3f6f2;
    color:#334155;
    text-decoration:none;
    border: var(--fm-border);
    box-shadow: var(--fm-shadow-soft);
    transition: background .2s ease, transform .08s ease;
}
.fm-settings:hover{ background:#e5efe6; }
.fm-settings:active{ transform:scale(.96); }

.fm-subtle{
    text-align:center;
    color:var(--fm-text-muted);
    font-size:.95rem;
    margin:10px 0 16px;
}

/* 4) Tile Grids (Start & Untermenüs) */
.fm-grid,
.grid-container{
    display:grid;
    gap: var(--fm-gap);
    grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
}

.fm-tile,
.grid-item{
    width:100%;
    min-height:130px;
    padding:20px;
    display:flex;
    flex-direction:column;
    align-items:center;
    justify-content:center;
    gap:8px;

    background:#fff;
    border: var(--fm-border);
    border-radius:18px;
    box-shadow: var(--fm-shadow-soft);

    text-decoration:none;
    color:inherit;
    user-select:none;
    -webkit-tap-highlight-color: transparent;

    transition: transform .12s ease, box-shadow .18s ease, background .2s ease, border-color .2s ease;
}
.fm-tile:hover,
.grid-item:hover{
    transform: translateY(-3px);
    box-shadow: var(--fm-shadow);
    background:#f9fafb;
}
.fm-tile:active,
.grid-item:active{ transform: scale(.98); }

/* aktiv/“eingedrückt” */
.grid-item.is-active,
.stall-tile.active,
.type-tile.active{
    background:#dcfce7;
    border:2px solid var(--fm-green);
    transform: translateY(0) scale(.99);
    box-shadow: inset 0 3px 8px rgba(0,0,0,.08), var(--fm-shadow-soft);
}

/* Tile Content */
.fm-ico,
.grid-item .icon{
    font-size:2.2rem;
    line-height:1;
}
.fm-txt{
    font-weight:600;
    text-align:center;
}

/* 5) Forms & Inputs */
.fm-input{
    width:100%;
    padding:12px 14px;
    border-radius:12px;
    border:1px solid #d1d5db;
    background:#fff;
    font-size:1rem;
    transition: border-color .2s ease, box-shadow .2s ease;
}
.fm-input:focus{
    outline:none;
    border-color:var(--fm-green);
    box-shadow:0 0 0 3px rgba(34,197,94,.25);
}

/* 6) Pills (Mengen-Addierer) */
.chips-row{
    display:flex;
    flex-wrap:wrap;
    justify-content:center;
    gap:10px;
}
.pill{
    min-width:66px;
    padding:10px 14px;
    border-radius:999px;
    border:1px solid rgba(0,0,0,.10);
    background:#fff;
    box-shadow: var(--fm-shadow-soft);
    font-weight:700;
    text-align:center;
    cursor:pointer;
    transition: transform .08s ease, box-shadow .18s ease, background .2s ease;
    display:inline-flex; align-items:center; justify-content:center;
}
.pill:hover{ background:#f9fafb; box-shadow: var(--fm-shadow); }
.pill:active{ transform: scale(.97); }
.pill-clear{ background:#fff5f5; border-color:#fecaca; }
.pill-clear:hover{ background:#ffecec; }

/* 7) Buttons */
button, .btn{
    border:none;
    border-radius:12px;
    padding:12px 18px;
    font-size:1rem;
    font-weight:600;
    cursor:pointer;
    transition: background .2s ease, transform .08s ease, box-shadow .15s ease;
}
button:active, .btn:active{ transform: scale(.98); }
.btn-green{ background:var(--fm-green); color:#fff; }
.btn-green:hover{ background:var(--fm-green-600); }
.btn-red{ background:var(--fm-red); color:#fff; }
.btn-red:hover{ background:var(--fm-red-600); }
.btn-outline{
    background:#fff; color:var(--fm-text);
    border:1px solid #d1d5db;
}
.btn-outline:hover{ background:#f9fafb; }
.w-100{ width:100%; }

/* 8) Sections & Dividers */
.section{ margin-top:6px; }
.section-title{
    font-weight:600;
    font-size:.95rem;
    color:var(--fm-text-muted);
    margin-bottom:8px;
    text-transform: uppercase;
    letter-spacing:.02em;
}
.soft-divider{
    border:0;
    border-top:1px solid rgba(0,0,0,.08);
    margin:16px 0 12px;
}

/* 9) Abgangs-/Ereignis-Kacheln Grid */
.abg-grid{
    display:grid;
    gap:16px;
    grid-template-columns: repeat(2, minmax(0, 1fr));
}
@media (min-width: 640px){
    .abg-grid{ grid-template-columns: repeat(4, 1fr); }
}
.type-tile{ cursor:pointer; }

/* 10) Zusammenfassung (Typ/Menge) */
.summary-bar{
    display:flex;
    align-items:center;
    justify-content: center;
    gap:12px;
    background:#f9fafb;
    border: var(--fm-border);
    border-radius:12px;
    padding:10px 14px;
}
.summary-label{ color:var(--fm-text-muted); font-weight:600; }
.big-summary{ font-size:1.08rem; }
.big-summary #currentType,
.big-summary #currentMenge{
    font-weight:800;
    color:var(--fm-text);
    font-size:1.18rem;
}

/* 11) Actions & Footer */
.fm-actions{
    margin-top:24px;
    display:flex;
    justify-content:center;
    gap:12px;
    flex-wrap:wrap;
}
.fm-foot{
    margin-top:28px;
    color:var(--fm-text-muted);
    font-size:.9rem;
    text-align:center;
}

/* 12) Tables (Verläufe) */
.fm-table{ width:100%; border-collapse: collapse; }
.fm-table th,
.fm-table td{ padding:10px 12px; }
.fm-table thead th{
    font-weight:700;
    color:#4b5563;
    border-bottom:1px solid rgba(0,0,0,.10);
}
.fm-table tbody tr + tr td{
    border-top:1px solid rgba(0,0,0,.06);
}
.text-end{ text-align:right; }

/* Badges */
.badge{ display:inline-block; padding:6px 10px; border-radius:999px; font-weight:700; }
.badge-green{ background:#ecfdf5; color:#047857; border:1px solid #a7f3d0; }
.badge-red{ background:#fef2f2; color:#b91c1c; border:1px solid #fecaca; }
.badge-dark{ background:#eef2f7; color:#111827; border:1px solid rgba(0,0,0,.08); }
.badge-muted{ color: var(--fm-text-muted); }

/* ===================================================================
   Hühner – Übersicht (Stallkarten)
   =================================================================== */

/* Karten-Grid nutzt Breite optimal, bricht sauber um */
.stall-grid{
    display:grid;
    gap:20px;
    grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
    align-items: stretch;
}

/* Stallkarte */
.fm-stallcard{
    display:flex;
    flex-direction:column;
    gap:12px;
    align-items:stretch;

    background:#fff;
    border: var(--fm-border);
    border-radius:18px;
    padding:18px;
    box-shadow: var(--fm-shadow-soft);
}

/* Kopf der Karte */
.stall-head{
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:10px;
}
.stall-name{
    font-weight:800;
    font-size:1.1rem;
    min-width:0;
}

/* zarte Badge rechts */
.badge-soft{
    display:inline-block;
    padding:6px 10px;
    border-radius:999px;
    font-size:.85rem;
    font-weight:600;
    background:#f1f5f9;
    border:1px solid rgba(0,0,0,.08);
    color:var(--fm-text-muted);
    white-space:nowrap;
}

/* KPI-Zeile – kein Überlagern dank auto-fit */
.kpi-row{
    display:grid;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap:12px;
}

/* KPI-Kachel */
.kpi{
    display:flex;
    align-items:center;
    gap:10px;
    padding:10px 12px;
    background:#fff;
    border: var(--fm-border);
    border-radius:12px;
    min-height:56px;
}
.kpi-value{
    font-size:1.25rem;
    font-weight:800;
    line-height:1;
}
.kpi-label{
    color:var(--fm-text-muted);
    font-weight:600;
    font-size:.9rem;
}

/* Letzte Aktionen (Chips) */
.meta-row{
    display:flex;
    flex-wrap:wrap;
    gap:8px;
    margin-top:auto; /* drückt Chips nach unten */
}
.chip{
    display:inline-flex;
    align-items:center;
    gap:6px;
    padding:8px 10px;
    border-radius:999px;
    background:#f9fafb;
    border: var(--fm-border);
    font-weight:600;
    font-size:.9rem;
}
.chip-text{ color:var(--fm-text); }

/* ===================================================================
   Login (NumPad optional – optisch passend zu Kacheln)
   =================================================================== */

.login-wrap{ max-width:420px; margin:0 auto; }
.numpad{
    display:grid;
    grid-template-columns: repeat(3, 1fr);
    gap:12px;
    margin-top:10px;
}
.numpad .btn{
    min-height:58px;
    border-radius:16px;
    box-shadow: var(--fm-shadow-soft);
}
/* ===========================
   Eier – Übersicht (modern)
   =========================== */

.eg-kpi-grid{
    display:grid;
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
    gap:14px;
    margin-bottom:8px;
}
.eg-kpi{
    background:#fff; border:var(--fm-border);
    border-radius:14px; padding:14px 16px;
    box-shadow: var(--fm-shadow-soft);
}
.eg-kpi-label{ color:var(--fm-text-light); font-weight:600; margin-bottom:6px; }
.eg-kpi-value{ font-size:1.6rem; font-weight:800; line-height:1; }

.eg-rangebar{
    display:flex; align-items:center; justify-content:space-between;
    gap:12px; margin:8px 0 6px;
}
.eg-range-title{ font-weight:700; }
.eg-range-sub{ color:var(--fm-text-light); font-size:.95rem; margin-top:2px; }

.table-wrap{
    overflow:auto; border-radius:14px; border:var(--fm-border);
    background:#fff; box-shadow:var(--fm-shadow-soft);
}
.eg-table{ width:100%; border-collapse:separate; border-spacing:0; min-width:860px; }
.eg-table thead th{
    position:sticky; top:0; z-index:2;
    background:#f8fafc; border-bottom:1px solid rgba(0,0,0,.08);
    padding:10px 12px; font-weight:700; color:#475569; white-space:nowrap;
}
.eg-table thead tr.subhead th{ font-weight:600; font-size:.9rem; color:#64748b; }
.eg-table td{
    padding:10px 12px; border-top:1px solid rgba(0,0,0,.06);
    vertical-align:middle; background:#fff;
}
.eg-table .text-end{ text-align:right; }
.eg-table .sep{ border-left:1px solid rgba(0,0,0,.08); border-right:1px solid rgba(0,0,0,.08); }

.eg-summary{ cursor:pointer; color:#111827; font-weight:600; }
.eg-stalls{ margin-top:8px; display:grid; gap:6px; }
.eg-stall-row{ display:flex; justify-content:space-between; gap:12px; }
.eg-stall-name{ color:#374151; }
.eg-stall-qty{ font-weight:700; }

/* Badges (Konsistenz) */
.badge{ display:inline-block; padding:6px 10px; border-radius:999px; font-weight:700; font-size:.9rem; line-height:1; }
.badge-green{ background:#ecfdf5; color:#047857; border:1px solid #a7f3d0; }
.badge-red{ background:#fef2f2; color:#b91c1c; border:1px solid #fecaca; }
.badge-dark{ background:#eef2f7; color:#111827; border:1px solid rgba(0,0,0,.08); }
